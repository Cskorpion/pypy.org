.. title: RPython-based emulator speeds up RISC-V simulation over 15x
.. slug: rpython-used-to-speed-up-risc-v-simulation-over-15x
.. date: 2023-05-16 11:22:35 UTC
.. tags: casestudy,performance
.. category: 
.. link: 
.. description: 
.. type: text
.. author: Carl Friedrich Bolz-Tereick

In cooperation with `RISC-V International`_, we recently created a workflow to
use RPython to take a `Sail RISC-V`_ model and automatically create a RISC-V ISA
simulator from it. The simulator sped up booting a linux emulator from 35
minutes (using the standard C++ emulator) to 2 minutes, or 17.5x. More details
about the process are in the `RISC-V blog post`_.

A few take-aways from the project:

- While PyPy has shown it can speed up generic python code `about 4x`_, the
  technology behind PyPy can really shine in tasks like simulation and emulation.

- Written in Python, RPython is malleable and can be molded to many tasks.

- There are some subtleties in such simulations that a JIT can handle better
  than AOT compilation.

PyPy can solve real world performance problems. Please `get in touch`_ and let
us know how we can help you solve yours.

.. _`RISC-V International`: https://riscv.org/
.. _`Sail RISC-V`: https://github.com/riscv/sail-riscv#riscv-sail-model
.. _`RISC-V blog post`:
   https://riscv.org/blog/2023/05/how-to-speed-up-the-emulating-process-with-pydrofoil-carl-friedrich/
.. _`about 4x`: https://speed.pypy.org
.. _`get in touch`: https://www.pypy.org/pypy-sponsors.html
